# è™æ—å¸‚ä¸­åŒ»åŒ»é™¢åº·å¤ç§‘æ²»ç–—è®°å½•ç³»ç»Ÿ

## é¡¹ç›®æ¦‚è¿°

### èƒŒæ™¯ä¸é—®é¢˜
- æ‰‹å·¥è®°å½•æ²»ç–—è¿‡ç¨‹
- è®°å½•ä¸è§„èŒƒã€æ˜“ä¸¢å¤±ã€æŸ¥è¯¢å›°éš¾
- éœ€è¦æé«˜å·¥ä½œæ•ˆç‡ã€ç¡®ä¿åŒ»ä¿åˆè§„ã€æå‡åŒ»ç–—è´¨é‡

### ç³»ç»Ÿç›®æ ‡
- æ²»ç–—è®°å½•ç”µå­åŒ–ã€è§„èŒƒåŒ–ç®¡ç†
- æé«˜åŒ»æŠ¤äººå‘˜å·¥ä½œæ•ˆç‡
- ä¿éšœæ‚£è€…æ²»ç–—æ•°æ®çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§
- æ”¯æŒA4çº¸æ ‡å‡†æ‰“å°è¾“å‡º

### ç³»ç»Ÿæ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰‹æœºå‰ç«¯   â”‚ â—„â”€â”€â–º â”‚   åç«¯API   â”‚ â—„â”€â”€â–º â”‚ Webåå°ç®¡ç† â”‚
â”‚ (æ²»ç–—è®°å½•)  â”‚      â”‚  (ä¸šåŠ¡é€»è¾‘) â”‚      â”‚  (ç®¡ç†ç»Ÿè®¡) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   æ•°æ®åº“    â”‚
                    â”‚  (SQLite)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”¨æˆ·è§’è‰²
- åŒ»å¸ˆï¼šé’ˆç¸æ²»ç–—ç­‰
- æŠ¤å£«ï¼šç”µåˆºæ¿€æ²»ç–—ç­‰
- æ²»ç–—å¸ˆï¼šè¿åŠ¨åŠŸèƒ½è®­ç»ƒã€ç”Ÿæ´»æŠ€èƒ½åº·å¤è®­ç»ƒç­‰
- ç®¡ç†å‘˜ï¼šç³»ç»Ÿç®¡ç†

---

## æŠ€æœ¯é€‰å‹

### å‰ç«¯æŠ€æœ¯æ ˆ
| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|---------|------|
| æ‰‹æœºå‰ç«¯ | uni-app (Vue3) | è·¨å¹³å°ï¼Œå¯ç¼–è¯‘ä¸ºå°ç¨‹åº/App/H5ï¼ŒåŒ»æŠ¤äººå‘˜ä½¿ç”¨æ–¹ä¾¿ |
| Webåå° | Vue 3 + Element Plus | æˆç†Ÿç¨³å®šã€ç»„ä»¶ä¸°å¯Œã€é€‚åˆåå°ç®¡ç† |
| æ‰“å°æ¨¡æ¿ | HTML + CSS @media print | æ ‡å‡†A4æ‰“å°ã€æ ·å¼å¯æ§ã€æµè§ˆå™¨ç›´æ¥æ‰“å° |

### åç«¯æŠ€æœ¯æ ˆ
| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|---------|------|
| æ¡†æ¶ | NestJS + TypeScript | ä¼ä¸šçº§Node.jsæ¡†æ¶ã€ç»“æ„æ¸…æ™°ã€ç±»å‹å®‰å…¨ |
| æ•°æ®åº“ | SQLite 3 | è½»é‡çº§æ–‡ä»¶æ•°æ®åº“ï¼Œæ— éœ€å®‰è£…æœåŠ¡ï¼Œä¸€ä¸ªæ–‡ä»¶æå®š |
| ORM | Prisma | æ”¯æŒSQLiteï¼Œç±»å‹å®‰å…¨ï¼Œè¿ç§»ç®¡ç†æ–¹ä¾¿ |
| è®¤è¯ | JWT + Passport | æ— çŠ¶æ€è®¤è¯ã€è§’è‰²æƒé™æ§åˆ¶ |
| APIæ–‡æ¡£ | Swagger | è‡ªåŠ¨ç”Ÿæˆã€ä¾¿äºæµ‹è¯• |

### éƒ¨ç½²æ¶æ„ï¼ˆå†…ç½‘ç§æœ‰éƒ¨ç½²ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           åŒ»é™¢å†…ç½‘æœåŠ¡å™¨                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Node.js ç›´æ¥è¿è¡Œï¼ˆæ— éœ€Dockerï¼‰  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚   å‰ç«¯   â”‚  â”‚   åç«¯   â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  (é™æ€)  â”‚  â”‚  (API)   â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                       â”‚          â”‚   â”‚
â”‚  â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚                 â”‚  database.db â”‚  â”‚   â”‚
â”‚  â”‚                 â”‚   (SQLite)   â”‚  â”‚   â”‚
â”‚  â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  å†…ç½‘IP: 192.168.x.x                   â”‚
â”‚  åŒ»æŠ¤äººå‘˜é€šè¿‡å†…ç½‘è®¿é—®                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜åŠ¿ï¼š
âœ… æ— éœ€å®‰è£…MySQLæœåŠ¡ï¼Œä¸€ä¸ªdbæ–‡ä»¶æå®š
âœ… å¤‡ä»½ç®€å•ï¼šå¤åˆ¶database.dbæ–‡ä»¶å³å¯
âœ… æ— éœ€é¢å¤–æœåŠ¡å™¨èµ„æº
âœ… 10äººå¹¶å‘å®Œå…¨å¤Ÿç”¨
```

---

## åŠŸèƒ½æ¨¡å—è®¾è®¡

### ä¸€ã€æ‰‹æœºç«¯ï¼ˆæ²»ç–—è®°å½• - æ‰€æœ‰è§’è‰²å…±ç”¨ï¼‰

**æ ¸å¿ƒå®šä½ï¼š** æ²»ç–—å¸ˆã€åŒ»å¸ˆã€æŠ¤å£«éƒ½ç”¨æ‰‹æœºç«¯è¿›è¡Œ**æ²»ç–—è®°å½•**ï¼Œä¸åšç®¡ç†æ“ä½œ

#### 1.1 ç”¨æˆ·è®¤è¯
- ç™»å½•/ç™»å‡º
- è§’è‰²è¯†åˆ«ï¼ˆæ ¹æ®è§’è‰²è¿‡æ»¤å¯æ“ä½œçš„æ²»ç–—é¡¹ç›®ï¼‰

#### 1.2 æ‚£è€…ç®¡ç†
- æ‚£è€…åˆ—è¡¨å±•ç¤º
- æ‚£è€…åŸºæœ¬ä¿¡æ¯æŸ¥çœ‹

#### 1.3 å¿«é€Ÿå®šä½æ‚£è€…ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
**æœç´¢åŠŸèƒ½ï¼š**
- ç—…å†å·å3ä½å¿«é€Ÿå®šä½ï¼ˆå¦‚è¾“å…¥"321"æ‰¾åˆ°ç—…å†å·150321ï¼‰
- å§“åæ‹¼éŸ³é¦–å­—æ¯ç­›é€‰ï¼ˆå¦‚è¾“å…¥"wjg"æ‰¾åˆ°"ç‹å»ºå›½"ï¼‰
- å§“åæ¨¡ç³Šæœç´¢
- ç—…å†å·æ¨¡ç³Šæœç´¢

**æœ€è¿‘æ²»ç–—æ‚£è€…ï¼š**
- æ ‡ç­¾äº‘æ˜¾ç¤ºæœ€è¿‘æ²»ç–—çš„æ‚£è€…
- ç‚¹å‡»å¿«é€Ÿè·³è½¬åˆ°è¯¥æ‚£è€…

**æœªæ¥åŠŸèƒ½ï¼ˆäºŒç»´ç å®šä½ï¼‰ï¼š**
- æ‰«ææ‚£è€…è…•å¸¦äºŒç»´ç å¿«é€Ÿå®šä½
- åå°ç”Ÿæˆæ‚£è€…äºŒç»´ç ï¼ˆå·¥ç‰Œå°ºå¯¸ï¼‰
- æ‰“å°äºŒç»´ç ä¾›æ‚£è€…ä½©æˆ´

#### 1.4 æ²»ç–—è®°å½•ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
**è®¾è®¡åŸåˆ™ï¼šæç®€åŒ–3æ­¥æµç¨‹**

**è®°å½•æµç¨‹ï¼š**
1. **é€‰æ‹©æ‚£è€…** â†’ æœç´¢/æœ€è¿‘æ‚£è€…å¿«é€Ÿå®šä½
2. **é€‰æ‹©é¡¹ç›®** â†’ æ ¹æ®è§’è‰²æ˜¾ç¤ºå¯æ“ä½œé¡¹ç›®
3. **ç‚¹å‡»å¼€å§‹æ²»ç–—** â†’ è‡ªåŠ¨è®°å½•å¼€å§‹æ—¶é—´ï¼Œç›´æ¥è·³è½¬æ‹ç…§ç•Œé¢
4. **æ‹ç…§å®Œæˆ** â†’ è‡ªåŠ¨è®¡ç®—ç»“æŸæ—¶é—´ï¼ˆå¼€å§‹ + é»˜è®¤æ—¶é•¿ + éšæœº60-120ç§’ï¼‰
5. **ä¿å­˜è®°å½•** â†’ æ‚£è€…ååº”é»˜è®¤"æ— ä¸è‰¯ååº”"

**å…³é”®ç®€åŒ–ï¼š**
- âœ… åªéœ€é€‰æ‹©æ‚£è€…å’Œé¡¹ç›®
- âœ… æ‹ç…§å³å®Œæˆè®°å½•
- âœ… ç»“æŸæ—¶é—´è‡ªåŠ¨è®¡ç®—
- âœ… æ‚£è€…ååº”é»˜è®¤"æ— ä¸è‰¯ååº”"
- âŒ æ— éœ€è®¡æ—¶å™¨æ˜¾ç¤º
- âŒ æ— éœ€å¡«å†™æ²»ç–—å‚æ•°

#### 1.5 å†å²æŸ¥è¯¢
- æŒ‰æ‚£è€…æŸ¥è¯¢å†å²è®°å½•
- æŒ‰æ—¥æœŸæŸ¥è¯¢
- æŸ¥çœ‹ä»Šæ—¥å·²å®Œæˆè®°å½•

**æ‰‹æœºç«¯ä¸åšï¼š**
- âŒ æ‚£è€…å»ºæ¡£
- âŒ æ²»ç–—é¡¹ç›®é…ç½®
- âŒ ç”¨æˆ·ç®¡ç†
- âŒ ç»Ÿè®¡æŠ¥è¡¨
- âŒ æ‰“å°åŠŸèƒ½

---

### äºŒã€Webåå°ç®¡ç†

#### 2.1 ç°ä»£åŒ–ç•Œé¢è®¾è®¡
**ä¾§è¾¹æ å¯¼èˆªï¼š**
- ä»ªè¡¨ç›˜
- æ‚£è€…ç®¡ç†
- é¡¹ç›®é…ç½®
- æ²»ç–—è®°å½•
- ç»Ÿè®¡æŠ¥è¡¨
- æ‰“å°å½’æ¡£

**ä»ªè¡¨ç›˜æ¦‚è§ˆï¼š**
- ç»Ÿè®¡å¡ç‰‡ï¼ˆæ‚£è€…æ•°ã€æ²»ç–—äººæ¬¡ã€å·¥ä½œæ—¶é•¿ã€å®Œæˆç‡ï¼‰
- è¶‹åŠ¿æ•°æ®å±•ç¤º
- å¿«é€Ÿæ“ä½œå…¥å£

#### 2.2 æ‚£è€…ç®¡ç†
- æ‚£è€…å»ºæ¡£
- æ‚£è€…ä¿¡æ¯ç¼–è¾‘
- ä½é™¢å·/åŒ»ä¿å·ç®¡ç†
- æ‚£è€…åˆ—è¡¨æŸ¥è¯¢

#### 2.3 æ²»ç–—é¡¹ç›®é…ç½®
- é¡¹ç›®åº“ç®¡ç†ï¼ˆæ–°å¢/ç¼–è¾‘/åˆ é™¤ï¼‰
- é¡¹ç›®é…ç½®ï¼š
  - é¡¹ç›®åç§°
  - é¡¹ç›®ç¼–ç 
  - é¡¹ç›®ç±»åˆ«
  - é»˜è®¤æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
  - å¯æ“ä½œè§’è‰²ï¼ˆå¤šé€‰ï¼‰
- é¡¹ç›®å¯ç”¨/ç¦ç”¨

**é…ç½®ç¤ºä¾‹ï¼š**
```json
{
  "projectId": 1,
  "projectName": "é’ˆç¸æ²»ç–—",
  "code": "ACU_001",
  "category": "TCM",
  "defaultDuration": 30,
  "allowedRoles": ["physician", "therapist"]
}

{
  "projectId": 2,
  "projectName": "ç”µåˆºæ¿€æ²»ç–—",
  "code": "ELE_001",
  "category": "PT",
  "defaultDuration": 20,
  "allowedRoles": ["nurse", "therapist"]
}
```

#### 2.4 åŒ»æŠ¤ç®¡ç†ï¼ˆæ–°å¢ï¼‰

**åŠŸèƒ½è¯´æ˜ï¼š**
- ç”¨æˆ·CRUDï¼šåˆ›å»ºã€æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤åŒ»æŠ¤ç”¨æˆ·
- è§’è‰²ç®¡ç†ï¼šè®¾ç½®ç”¨æˆ·è§’è‰²ï¼ˆåŒ»å¸ˆ/æŠ¤å£«/æ²»ç–—å¸ˆ/ç®¡ç†å‘˜ï¼‰
- å¯†ç ç®¡ç†ï¼šä¿®æ”¹å¯†ç ã€é‡ç½®å¯†ç ã€æ‰¹é‡é‡ç½®å¯†ç 
- çŠ¶æ€ç®¡ç†ï¼šå¯ç”¨/ç¦ç”¨ç”¨æˆ·è´¦å·
- ç™»å½•è®°å½•ï¼šæŸ¥çœ‹ç”¨æˆ·æœ€åç™»å½•æ—¶é—´

**è§’è‰²æƒé™é…ç½®ï¼š**
| è§’è‰² | å¯æ“ä½œé¡¹ç›® | è¯´æ˜ |
|------|-----------|------|
| åŒ»å¸ˆ | é’ˆç¸æ²»ç–—ç­‰ | physician |
| æŠ¤å£« | ç”µåˆºæ¿€æ²»ç–—ç­‰ | nurse |
| æ²»ç–—å¸ˆ | è¿åŠ¨åŠŸèƒ½è®­ç»ƒã€ç”Ÿæ´»æŠ€èƒ½åº·å¤è®­ç»ƒã€è®¤çŸ¥åŠŸèƒ½è®­ç»ƒã€è¨€è¯­åŠŸèƒ½è®­ç»ƒç­‰ | therapist |
| ç®¡ç†å‘˜ | æ‰€æœ‰æƒé™ | admin |

**ç”¨æˆ·ç•Œé¢è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¨â€âš•ï¸ åŒ»æŠ¤ç®¡ç†                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [+ æ–°å¢åŒ»æŠ¤] [ğŸ”‘ æ‰¹é‡é‡ç½®å¯†ç ]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç”¨æˆ·å â”‚ å§“å â”‚ è§’è‰² â”‚ çŠ¶æ€ â”‚ æ“ä½œ  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ doc001 â”‚ å¼ æ˜ â”‚ åŒ»å¸ˆ â”‚ æ­£å¸¸ â”‚ ğŸ”‘âœï¸ â”‚   â”‚
â”‚  â”‚ nurse001â”‚æå¨œ â”‚ æŠ¤å£« â”‚ æ­£å¸¸ â”‚ ğŸ”‘âœï¸ â”‚   â”‚
â”‚  â”‚ therapist001â”‚ç‹èŠ³â”‚æ²»ç–—å¸ˆâ”‚ æ­£å¸¸ â”‚ ğŸ”‘âœï¸ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ‰‹æœºç«¯è§’è‰²è¯†åˆ«æµç¨‹ï¼š**
```
1. ç”¨æˆ·ç™»å½•ï¼ˆè¾“å…¥ç”¨æˆ·åå¯†ç ï¼‰
   â†“
2. åç«¯éªŒè¯å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯ï¼ˆå«è§’è‰²ï¼‰
   â†“
3. æ‰‹æœºç«¯æ˜¾ç¤ºç”¨æˆ·è§’è‰²ï¼ˆå³ä¸Šè§’å¤´åƒ+è§’è‰²åï¼‰
   â†“
4. é€‰æ‹©æ‚£è€…åï¼Œè‡ªåŠ¨è¿‡æ»¤æ˜¾ç¤ºè¯¥è§’è‰²å¯æ“ä½œçš„é¡¹ç›®
   â†“
5. å®Œæˆæ²»ç–—è®°å½•
```

#### 2.5 æ²»ç–—è®°å½•ç®¡ç†
- è®°å½•æŸ¥è¯¢ä¸ç­›é€‰
- **è®°å½•ç¼–è¾‘ï¼šå¯ä¿®æ”¹æ‰€æœ‰ä¿¡æ¯**ï¼ˆæ‚£è€…ã€é¡¹ç›®ã€æ—¶é—´ã€ç…§ç‰‡ã€ååº”ã€å¤‡æ³¨ï¼‰
- è®°å½•è¡¥å½•åŠŸèƒ½
- è®°å½•åˆ é™¤ï¼ˆéœ€æƒé™ï¼‰

#### 2.6 ç»Ÿè®¡æŠ¥è¡¨
- æŒ‰æ—¶é—´ç»Ÿè®¡ï¼ˆæ—¥/å‘¨/æœˆï¼‰
- æŒ‰æ²»ç–—å¸ˆç»Ÿè®¡å·¥ä½œé‡
- æŒ‰é¡¹ç›®ç»Ÿè®¡ä½¿ç”¨é¢‘ç‡
- åŒ»ä¿åˆè§„æ€§æŠ¥è¡¨
- å›¾è¡¨å¯è§†åŒ–ï¼ˆEChartsï¼‰

#### 2.7 æ‰“å°å½’æ¡£ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

**æ‰“å°æ¨¡æ¿1ï¼šåº·å¤æ²»ç–—å…¨ç¨‹è®°å½•å•**

åŸºäºç”¨æˆ·æä¾›çš„`è¾“å‡ºæ¨¡æ¿.html`ï¼Œç³»ç»Ÿéœ€è¦è¾“å‡ºä»¥ä¸‹æ ¼å¼ï¼š

##### æ¨¡æ¿ç»“æ„
1. **é¡µçœ‰**ï¼šåŒ»é™¢åç§°ã€ç§‘å®¤ã€æ ‡é¢˜ã€ç—…å†å·ã€æ‰“å°æ—¥æœŸ
2. **æ‚£è€…åŸºæœ¬ä¿¡æ¯**ï¼šå§“åã€æ€§åˆ«ã€å¹´é¾„ã€åŒ»ä¿ç±»å‹ã€å…¥é™¢/å‡ºé™¢æ—¥æœŸã€ä½é™¢å¤©æ•°ã€ä¸»ç®¡åŒ»å¸ˆã€ä¸»è¦è¯Šæ–­
3. **åº·å¤è¯„ä¼°è®°å½•**ï¼šå…¥é™¢è¯„ä¼°å’Œå‡ºé™¢è¯„ä¼°
   - è¯„ä¼°åŒ»å¸ˆã€è¯„ä¼°åœ°ç‚¹ã€è¯„ä¼°æ—¶é—´
   - åŠŸèƒ½çŠ¶æ€è¯„åˆ†ï¼šBarthelæŒ‡æ•°ã€Brunnstromåˆ†æœŸã€å¹³è¡¡åŠŸèƒ½ã€è‚ŒåŠ›ã€è®¤çŸ¥åŠŸèƒ½ï¼ˆMMSEï¼‰ã€åå’½åŠŸèƒ½ï¼ˆæ´¼ç”°é¥®æ°´è¯•éªŒï¼‰ã€è¯­è¨€åŠŸèƒ½ï¼ˆå¤±è¯­ç—‡è¯„å®šï¼‰
   - åº·å¤ç›®æ ‡ï¼ˆå…¥é™¢ï¼‰/ åº·å¤æ•ˆæœï¼ˆå‡ºé™¢ï¼‰
4. **æ²»ç–—è®°å½•æ˜ç»†è¡¨æ ¼**
   - å­—æ®µï¼šæ—¥æœŸ | æ²»ç–—é¡¹ç›® | æ²»ç–—å¸ˆ | æ²»ç–—æ—¶é—´ | æ²»ç–—æ—¶é•¿ | æ²»ç–—ç…§ç‰‡ | å¤‡æ³¨
   - æ²»ç–—é¡¹ç›®ï¼šè¿åŠ¨åŠŸèƒ½è®­ç»ƒã€ç”Ÿæ´»æŠ€èƒ½åº·å¤è®­ç»ƒã€è®¤çŸ¥åŠŸèƒ½è®­ç»ƒã€è¨€è¯­åŠŸèƒ½è®­ç»ƒã€èŒä¸šåŠŸèƒ½åº·å¤è®­ç»ƒ
5. **æ²»ç–—ç»Ÿè®¡æ±‡æ€»**ï¼šå„é¡¹ç›®æ¬¡æ•°ç»Ÿè®¡
6. **è´£ä»»ç­¾åç¡®è®¤**ï¼šæ‚£è€…/å®¶å±ã€ä½é™¢åŒ»å¸ˆã€åº·å¤æ²»ç–—å¸ˆ
7. **é¡µè„š**ï¼šåŒ»é™¢ä¿¡æ¯ã€ç…§ç‰‡å­˜å‚¨è§„èŒƒ

##### æ²»ç–—é¡¹ç›®åˆ—è¡¨ï¼ˆä»æ¨¡æ¿æå–ï¼‰
| é¡¹ç›®åç§° | è¯´æ˜ |
|---------|------|
| è¿åŠ¨åŠŸèƒ½è®­ç»ƒ | PTè®­ç»ƒï¼Œè‚¢ä½“åŠŸèƒ½æ¢å¤ |
| ç”Ÿæ´»æŠ€èƒ½åº·å¤è®­ç»ƒ | ADLè®­ç»ƒï¼Œæ—¥å¸¸ç”Ÿæ´»èƒ½åŠ› |
| è®¤çŸ¥åŠŸèƒ½è®­ç»ƒ | è®°å¿†ã€æ³¨æ„åŠ›ã€æ€ç»´è®­ç»ƒ |
| è¨€è¯­åŠŸèƒ½è®­ç»ƒ | STè®­ç»ƒï¼Œå¤±è¯­ç—‡åº·å¤ |
| èŒä¸šåŠŸèƒ½åº·å¤è®­ç»ƒ | OTè®­ç»ƒï¼Œå·¥ä½œèƒ½åŠ›æ¢å¤ |

##### æ•°æ®ç»“æ„å®šä¹‰
```typescript
interface PrintData {
  patient: {
    name: string;
    gender: string;
    age: string;
    insuranceType: string;
    admissionDate: string;
    dischargeDate: string;
    days: number;
    doctor: string;
    diagnosis: string;
    medicalRecordNo: string;
  };
  admissionAssessment: Assessment;
  dischargeAssessment: Assessment;
  treatmentRecords: TreatmentRecord[];
  statistics: ProjectStatistics;
}

interface Assessment {
  assessor: string;
  location: string;
  date: string;
  barthelIndex: number;
  brunnstromStage: string;
  balance: string;
  muscleStrength: string;
  cognitiveMMSE: number;
  swallowingTest: number;
  languageScore: number;
  goal: string;          // å…¥é™¢
  effect?: string;       // å‡ºé™¢
  guidance?: string;     // å‡ºé™¢
}

interface TreatmentRecord {
  date: string;
  project: string;
  therapist: string;
  startTime: string;
  endTime: string;
  duration: string;
  photoFileName: string;
  note: string;
}
```

**æ‰“å°æ¨¡æ¿2ï¼šæ²»ç–—å¸ˆå·¥ä½œé‡æŠ¥è¡¨**

**æŠ¥è¡¨æ ¼å¼è®¾è®¡ï¼š**
- å·¥ä½œæ¦‚è§ˆï¼šæ‚£è€…æ•°ã€æ²»ç–—äººæ¬¡ã€å·¥ä½œæ—¶é•¿ã€å·¥ä½œå¤©æ•°ã€å¹³å‡æ¯æ—¥æ²»ç–—äººæ¬¡
- é¡¹ç›®åˆ†å¸ƒï¼šå„æ²»ç–—é¡¹ç›®ç»Ÿè®¡ï¼ˆäººæ¬¡ã€å æ¯”ã€æ€»æ—¶é•¿ï¼‰
- æ¯æ—¥æ˜ç»†ï¼šæŒ‰æ—¥æœŸç»Ÿè®¡
- æ‚£è€…åˆ—è¡¨ï¼šTop 10æœåŠ¡æœ€å¤šæ‚£è€…

**æ•°æ®ç»“æ„ï¼š**
```typescript
interface TherapistWorkloadReport {
  therapist: {
    id: number;
    name: string;
    role: string;
  };
  dateRange: {
    start: string;
    end: string;
  };
  summary: {
    totalPatients: number;
    totalSessions: number;
    totalHours: number;
    workDays: number;
    avgSessionsPerDay: number;
  };
  projectDistribution: ProjectStats[];
  dailyDetails: DailyStats[];
  topPatients: PatientStats[];
}
```

---

### ä¸‰ã€åç«¯APIè®¾è®¡

#### 3.1 ç”¨æˆ·æ¨¡å—
- POST /api/auth/login - ç™»å½•
- POST /api/auth/logout - ç™»å‡º
- GET /api/user/profile - è·å–ç”¨æˆ·ä¿¡æ¯
- GET /api/user/projects - è·å–å¯æ“ä½œé¡¹ç›®åˆ—è¡¨ï¼ˆæ ¹æ®è§’è‰²è¿‡æ»¤ï¼‰

#### 3.2 ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆåŒ»æŠ¤ç®¡ç†ï¼‰
- GET /api/users - ç”¨æˆ·åˆ—è¡¨
- POST /api/users - åˆ›å»ºç”¨æˆ·
- GET /api/users/:id - è·å–ç”¨æˆ·è¯¦æƒ…
- PUT /api/users/:id - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- DELETE /api/users/:id - åˆ é™¤ç”¨æˆ·ï¼ˆéœ€æƒé™ï¼‰
- POST /api/users/:id/password - ä¿®æ”¹å¯†ç 
- POST /api/users/:id/reset-password - é‡ç½®å¯†ç ï¼ˆç®¡ç†å‘˜ï¼‰
- POST /api/users/batch-reset-password - æ‰¹é‡é‡ç½®å¯†ç 
- PUT /api/users/:id/status - å¯ç”¨/ç¦ç”¨ç”¨æˆ·

#### 3.3 æ‚£è€…æ¨¡å—
- GET /api/patients - æ‚£è€…åˆ—è¡¨
- GET /api/patients/search - æœç´¢æ‚£è€…ï¼ˆæ”¯æŒç—…å†å·å3ä½ã€æ‹¼éŸ³é¦–å­—æ¯ï¼‰
- POST /api/patients - åˆ›å»ºæ‚£è€…
- PUT /api/patients/:id - æ›´æ–°æ‚£è€…

#### 3.4 æ²»ç–—è®°å½•æ¨¡å—
- GET /api/records - è®°å½•åˆ—è¡¨
- POST /api/records - åˆ›å»ºè®°å½•
- PUT /api/records/:id - æ›´æ–°è®°å½•ï¼ˆæ‰€æœ‰å­—æ®µï¼‰
- GET /api/records/export - å¯¼å‡ºæ‰“å°

#### 3.5 é…ç½®æ¨¡å—
- GET /api/projects - é¡¹ç›®åˆ—è¡¨
- POST /api/projects - åˆ›å»ºé¡¹ç›®
- PUT /api/projects/:id - æ›´æ–°é¡¹ç›®

---

## æ•°æ®åº“è®¾è®¡ï¼ˆSQLite + Prismaï¼‰

### Prisma Schema å®šä¹‰

```prisma
// ç”¨æˆ·è¡¨
model User {
  id           Int      @id @default(autoincrement())
  username     String   @unique
  password     String   // bcryptåŠ å¯†
  role         UserRole // physician/therapist/nurse/admin
  name         String
  department   String
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  // å…³è”
  assessments        Assessment[]
  treatmentRecords   TreatmentRecord[]
}

enum UserRole {
  physician    // åŒ»å¸ˆ
  therapist    // æ²»ç–—å¸ˆ
  nurse        // æŠ¤å£«
  admin        // ç®¡ç†å‘˜
}

// æ‚£è€…è¡¨
model Patient {
  id              Int      @id @default(autoincrement())
  name            String
  pinyin          String   // æ‹¼éŸ³é¦–å­—æ¯ï¼Œå¦‚"wjg"ï¼ˆç‹å»ºå›½ï¼‰
  gender          String
  age             String
  insuranceType   String
  admissionDate   DateTime
  dischargeDate   DateTime?
  medicalRecordNo String   @unique  // ç—…å†å·/ç—…æ¡ˆå·
  doctor          String   // ä¸»ç®¡åŒ»å¸ˆ
  diagnosis       String   // ä¸»è¦è¯Šæ–­
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  // å…³è”
  assessments    Assessment[]
  treatmentRecords TreatmentRecord[]
}

// æ²»ç–—é¡¹ç›®è¡¨
model Project {
  id             Int      @id @default(autoincrement())
  name           String   // é¡¹ç›®åç§°
  code           String   @unique // é¡¹ç›®ç¼–ç 
  category       String   // PT/OT/ST/TCMç­‰
  defaultDuration Int     @default(30) // é»˜è®¤æ—¶é•¿(åˆ†é’Ÿ)
  allowedRoles   String   // JSONæ•°ç»„: ["physician", "nurse"]
  isActive       Boolean  @default(true)
  sortOrder      Int      @default(0)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  // å…³è”
  treatmentRecords TreatmentRecord[]
}

// åº·å¤è¯„ä¼°è¡¨
model Assessment {
  id                Int      @id @default(autoincrement())
  patientId         Int
  assessorId        Int
  assessmentType    AssessmentType // admission/discharge
  assessmentDate    DateTime
  location          String   // è¯„ä¼°åœ°ç‚¹

  // åŠŸèƒ½è¯„åˆ†
  barthelIndex      Int?     // BarthelæŒ‡æ•°(0-100)
  brunnstromStage   String?  // JSON: {"upper":"IIæœŸ", "hand":"IæœŸ", "lower":"IIIæœŸ"}
  balanceFunction   String?  // JSON: {"sitting":"Içº§", "standing":"0çº§"}
  muscleStrength    String?  // JSON: {"leftUpper":"2çº§", "leftLower":"3çº§"}
  cognitiveMMSE     Int?     // MMSEè¯„åˆ†(0-30)
  swallowingTest    Int?     // æ´¼ç”°é¥®æ°´è¯•éªŒ(1-5)
  languageScore     Int?     // å¤±è¯­ç—‡è¯„å®š(0-100)

  rehabGoal         String?  // åº·å¤ç›®æ ‡(å…¥é™¢)
  rehabEffect       String?  // åº·å¤æ•ˆæœ(å‡ºé™¢)
  homeGuidance      String?  // å®¶åº­æŒ‡å¯¼(å‡ºé™¢)

  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  // å…³è”
  patient           Patient  @relation(fields: [patientId], references: [id])
  assessor          User     @relation(fields: [assessorId], references: [id])
}

enum AssessmentType {
  admission     // å…¥é™¢è¯„ä¼°
  discharge     // å‡ºé™¢è¯„ä¼°
}

// æ²»ç–—è®°å½•è¡¨ï¼ˆç®€åŒ–ç‰ˆï¼‰
model TreatmentRecord {
  id              Int      @id @default(autoincrement())
  patientId       Int
  therapistId     Int
  projectId       Int
  treatmentDate   DateTime
  startTime       DateTime // å¼€å§‹æ—¶é—´ï¼ˆå®Œæ•´æ—¶é—´æˆ³ï¼‰
  endTime         DateTime // ç»“æŸæ—¶é—´ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰
  durationMinutes Int      // å®é™…æ²»ç–—æ—¶é•¿(åˆ†é’Ÿ)
  extraSeconds    Int      @default(0) // éšæœºå¢åŠ çš„ç§’æ•°(60-120)
  photoCount      Int      @default(0)
  photoFileName   String?  // ç…§ç‰‡æ–‡ä»¶å: 150223_001.jpg
  outcome         String?  // æ‚£è€…ååº”/æ²»ç–—æ•ˆæœï¼ˆé»˜è®¤"æ— ä¸è‰¯ååº”"ï¼‰
  notes           String?  // å¤‡æ³¨
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  // å…³è”
  patient         Patient  @relation(fields: [patientId], references: [id])
  therapist       User     @relation(fields: [therapistId], references: [id])
  project         Project  @relation(fields: [projectId], references: [id])
  photos          TreatmentPhoto[]
}

// ç…§ç‰‡ç®¡ç†è¡¨
model TreatmentPhoto {
  id          Int      @id @default(autoincrement())
  recordId    Int
  fileName    String   // æ–‡ä»¶å: 150223_001.jpg
  filePath    String   // å­˜å‚¨è·¯å¾„
  fileSize    Int      // æ–‡ä»¶å¤§å°(å­—èŠ‚)
  photoTime   DateTime // æ‹ç…§æ—¶é—´(EXIF)
  thumbPath   String?  // ç¼©ç•¥å›¾è·¯å¾„
  createdAt   DateTime @default(now())

  // å…³è”
  record      TreatmentRecord @relation(fields: [recordId], references: [id]);
}
```

---

## é¢„ç½®æ•°æ®

### é¢„ç½®æ²»ç–—é¡¹ç›®

```sql
-- é’ˆç¸æ²»ç–—
INSERT INTO Project (name, code, category, defaultDuration, allowedRoles, sortOrder)
VALUES ('é’ˆç¸æ²»ç–—', 'ACU_001', 'TCM', 30, '["physician", "therapist"]', 1);

-- ç”µåˆºæ¿€æ²»ç–—
INSERT INTO Project (name, code, category, defaultDuration, allowedRoles, sortOrder)
VALUES ('ç”µåˆºæ¿€æ²»ç–—', 'ELE_001', 'PT', 20, '["nurse", "therapist"]', 2);

-- è¿åŠ¨åŠŸèƒ½è®­ç»ƒ
INSERT INTO Project (name, code, category, defaultDuration, allowedRoles, sortOrder)
VALUES ('è¿åŠ¨åŠŸèƒ½è®­ç»ƒ', 'PT_001', 'PT', 30, '["therapist"]', 3);

-- ç”Ÿæ´»æŠ€èƒ½åº·å¤è®­ç»ƒ
INSERT INTO Project (name, code, category, defaultDuration, allowedRoles, sortOrder)
VALUES ('ç”Ÿæ´»æŠ€èƒ½åº·å¤è®­ç»ƒ', 'OT_001', 'OT', 30, '["therapist"]', 4);

-- è®¤çŸ¥åŠŸèƒ½è®­ç»ƒ
INSERT INTO Project (name, code, category, defaultDuration, allowedRoles, sortOrder)
VALUES ('è®¤çŸ¥åŠŸèƒ½è®­ç»ƒ', 'CT_001', 'CT', 30, '["therapist"]', 5);

-- è¨€è¯­åŠŸèƒ½è®­ç»ƒ
INSERT INTO Project (name, code, category, defaultDuration, allowedRoles, sortOrder)
VALUES ('è¨€è¯­åŠŸèƒ½è®­ç»ƒ', 'ST_001', 'ST', 30, '["therapist"]', 6);

-- èŒä¸šåŠŸèƒ½åº·å¤è®­ç»ƒ
INSERT INTO Project (name, code, category, defaultDuration, allowedRoles, sortOrder)
VALUES ('èŒä¸šåŠŸèƒ½åº·å¤è®­ç»ƒ', 'VT_001', 'OT', 30, '["therapist"]', 7);
```

### æµ‹è¯•ç”¨æˆ·

```sql
-- ç®¡ç†å‘˜
INSERT INTO User (username, password, role, name, department)
VALUES ('admin', '$2b$10$...', 'admin', 'ç³»ç»Ÿç®¡ç†å‘˜', 'åº·å¤ç§‘');

-- åŒ»å¸ˆ
INSERT INTO User (username, password, role, name, department)
VALUES ('doc001', '$2b$10$...', 'physician', 'å¼ æ˜', 'åº·å¤ç§‘');

-- æŠ¤å£«
INSERT INTO User (username, password, role, name, department)
VALUES ('nurse001', '$2b$10$...', 'nurse', 'æå¨œ', 'åº·å¤ç§‘');

-- æ²»ç–—å¸ˆ
INSERT INTO User (username, password, role, name, department)
VALUES ('therapist001', '$2b$10$...', 'therapist', 'ç‹èŠ³', 'åº·å¤ç§‘');
```

---

## æœªæ¥åŠŸèƒ½è§„åˆ’

### äºŒæœŸåŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

#### 1. äºŒç»´ç å¿«é€Ÿå®šä½
**åŠŸèƒ½æè¿°ï¼š**
- åå°ç”Ÿæˆæ‚£è€…äºŒç»´ç ï¼ˆå·¥ç‰Œå°ºå¯¸ï¼Œçº¦54mm Ã— 86mmï¼‰
- æ‰“å°äºŒç»´ç ä¾›æ‚£è€…ä½©æˆ´ï¼ˆè…•å¸¦æˆ–èƒ¸ç‰Œï¼‰
- æ‰‹æœºç«¯æ‰«ææ‚£è€…äºŒç»´ç å¿«é€Ÿå®šä½

**æŠ€æœ¯å®ç°ï¼š**
- ä½¿ç”¨qrcode.jsç”ŸæˆäºŒç»´ç 
- äºŒç»´ç å†…å®¹ï¼šæ‚£è€…IDæˆ–ç—…å†å·
- æ‰“å°æ¨¡æ¿ï¼šå‚è€ƒå·¥ç‰Œå°ºå¯¸è®¾è®¡

**ä¼˜åŠ¿ï¼š**
- æœ€å¿«æœ€å‡†ç¡®çš„å®šä½æ–¹å¼
- å‡å°‘è¾“å…¥é”™è¯¯
- æå‡å·¥ä½œæ•ˆç‡

#### 2. å¯¹æ¥åŒ»é™¢HISç³»ç»Ÿ
- æ‚£è€…ä¿¡æ¯åŒæ­¥
- åŒ»ä¿æ•°æ®å¯¹æ¥
- è¯Šæ–­ä¿¡æ¯è‡ªåŠ¨è·å–

#### 3. AIè¾…åŠ©åŠŸèƒ½
- AIè¾…åŠ©æ²»ç–—æ–¹æ¡ˆæ¨è
- æ‚£è€…åº·å¤æ•ˆæœè¶‹åŠ¿åˆ†æ
- æ™ºèƒ½è¡¨å•å¡«å……

#### 4. ç§»åŠ¨ç«¯ä¼˜åŒ–
- iPadé€‚é…
- è¯­éŸ³è¾“å…¥
- ç¦»çº¿æ•°æ®ç¼“å­˜

#### 5. æ•°æ®å¤§å±
- å®æ—¶å·¥ä½œç›‘æ§
- ç»Ÿè®¡æ•°æ®å¯è§†åŒ–
- ç§‘å®¤ç»©æ•ˆå±•ç¤º

---

## é¡¹ç›®ç›®å½•ç»“æ„

```
rehab-record-system/
â”œâ”€â”€ backend/                    # åç«¯é¡¹ç›® (NestJS + SQLite)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ users/             # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ patients/          # æ‚£è€…ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ projects/          # æ²»ç–—é¡¹ç›®é…ç½®
â”‚   â”‚   â”œâ”€â”€ records/           # æ²»ç–—è®°å½•
â”‚   â”‚   â”œâ”€â”€ assessments/       # åº·å¤è¯„ä¼°
â”‚   â”‚   â”œâ”€â”€ photos/            # ç…§ç‰‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ print/             # æ‰“å°æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ statistics/        # ç»Ÿè®¡æŠ¥è¡¨
â”‚   â”‚   â”œâ”€â”€ common/            # å…¬å…±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ app.module.ts
â”‚   â”‚   â””â”€â”€ main.ts
â”‚   â”œâ”€â”€ prisma/                # Prisma ORMé…ç½®
â”‚   â”‚   â””â”€â”€ schema.prisma      # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ data/                  # æ•°æ®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ database.db        # SQLiteæ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ uploads/               # ä¸Šä¼ æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ photos/            # æ²»ç–—ç…§ç‰‡
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ mobile-frontend/           # æ‰‹æœºå‰ç«¯ (uni-app)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ login/        # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ home/         # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ patients/     # æ‚£è€…åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ record/       # æ²»ç–—è®°å½•
â”‚   â”‚   â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ api/              # APIå°è£…
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ store/            # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ manifest.json
â”‚   â””â”€â”€ pages.json
â”‚
â”œâ”€â”€ web-admin/                # Webåå° (Vue3)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/           # é¡µé¢è§†å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ login/       # ç™»å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/   # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ patients/    # æ‚£è€…ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ projects/    # é¡¹ç›®é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ records/     # è®°å½•ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ statistics/  # ç»Ÿè®¡æŠ¥è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ print/       # æ‰“å°é¢„è§ˆ
â”‚   â”‚   â”œâ”€â”€ components/      # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ api/             # API
â”‚   â”‚   â”œâ”€â”€ router/          # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ utils/           # å·¥å…·
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ print-templates/          # æ‰“å°æ¨¡æ¿
â”‚   â”œâ”€â”€ treatment-record.html     # åº·å¤æ²»ç–—å…¨ç¨‹è®°å½•å•
â”‚   â”œâ”€â”€ workload-report.html      # æ²»ç–—å¸ˆå·¥ä½œé‡æŠ¥è¡¨
â”‚   â””â”€â”€ assets/                   # æ¨¡æ¿èµ„æº
â”‚
â””â”€â”€ README.md
```

---

## å®æ–½æ­¥éª¤ï¼ˆå®Œæ•´åŠŸèƒ½å¹¶è¡Œå¼€å‘ï¼‰

### ç¬¬ä¸€é˜¶æ®µï¼šé¡¹ç›®åˆå§‹åŒ–ä¸åŸºç¡€æ¡†æ¶ï¼ˆ1-2å‘¨ï¼‰

#### 1.1 ç¯å¢ƒæ­å»º
- [ ] åˆ›å»ºé¡¹ç›®ä»“åº“
- [ ] åˆå§‹åŒ–åç«¯é¡¹ç›®ï¼ˆNestJS + TypeScriptï¼‰
- [ ] åˆå§‹åŒ–æ‰‹æœºç«¯é¡¹ç›®ï¼ˆuni-appï¼‰
- [ ] åˆå§‹åŒ–Webåå°é¡¹ç›®ï¼ˆVue3 + Element Plusï¼‰
- [ ] é…ç½®å¼€å‘ç¯å¢ƒï¼ˆESLintã€Prettierï¼‰

#### 1.2 æ•°æ®åº“è®¾è®¡
- [ ] è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„ï¼ˆPrisma Schemaï¼‰
- [ ] é…ç½®Prisma + SQLite
- [ ] ç¼–å†™æ•°æ®åº“è¿ç§»è„šæœ¬
- [ ] å‡†å¤‡ç§å­æ•°æ®ï¼ˆé¢„ç½®æ²»ç–—é¡¹ç›®ã€æµ‹è¯•ç”¨æˆ·ï¼‰
- [ ] åˆå§‹åŒ–SQLiteæ•°æ®åº“æ–‡ä»¶

#### 1.3 è®¤è¯ä¸æƒé™
- [ ] å®ç°JWTè®¤è¯
- [ ] å®ç°ç™»å½•/ç™»å‡ºæ¥å£
- [ ] å®ç°RBACæƒé™æ§åˆ¶
- [ ] è§’è‰²å®ˆå«ä¸è£…é¥°å™¨

#### 1.4 åŸºç¡€API
- [ ] ç”¨æˆ·ä¿¡æ¯æ¥å£
- [ ] è§’è‰²æƒé™æ¥å£
- [ ] Swagger APIæ–‡æ¡£é…ç½®

---

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼ˆ3-4å‘¨ï¼‰

#### 2.1 æ‚£è€…ç®¡ç†æ¨¡å—
**åç«¯ï¼š**
- [ ] æ‚£è€…CRUDæ¥å£
- [ ] æ‚£è€…æœç´¢æ¥å£ï¼ˆç—…å†å·å3ä½ã€æ‹¼éŸ³é¦–å­—æ¯ï¼‰
- [ ] æ‚£è€…æŸ¥è¯¢ä¸ç­›é€‰

**æ‰‹æœºç«¯ï¼š**
- [ ] æ‚£è€…åˆ—è¡¨é¡µ
- [ ] æ‚£è€…è¯¦æƒ…é¡µ
- [ ] æœç´¢åŠŸèƒ½

**Webåå°ï¼š**
- [ ] æ‚£è€…ç®¡ç†é¡µé¢
- [ ] æ‚£è€…ç¼–è¾‘è¡¨å•
- [ ] æ‚£è€…å¯¼å…¥å¯¼å‡º

#### 2.2 æ²»ç–—é¡¹ç›®é…ç½®æ¨¡å—
**åç«¯ï¼š**
- [ ] é¡¹ç›®CRUDæ¥å£
- [ ] è§’è‰²é¡¹ç›®æƒé™æ¥å£

**Webåå°ï¼š**
- [ ] é¡¹ç›®åˆ—è¡¨é¡µé¢
- [ ] é¡¹ç›®ç¼–è¾‘è¡¨å•
- [ ] è§’è‰²æƒé™é…ç½®

#### 2.3 æ²»ç–—è®°å½•æ¨¡å—ï¼ˆæ ¸å¿ƒï¼‰
**åç«¯ï¼š**
- [ ] è®°å½•CRUDæ¥å£
- [ ] è®°å½•æŸ¥è¯¢ä¸ç­›é€‰
- [ ] è®°å½•ç¼–è¾‘æ¥å£ï¼ˆæ‰€æœ‰å­—æ®µï¼‰
- [ ] ç…§ç‰‡ä¸Šä¼ æ¥å£
- [ ] ç…§ç‰‡å‘½åè§„åˆ™ï¼ˆç—…æ¡ˆå·_åºå·.jpgï¼‰
- [ ] ç…§ç‰‡EXIFæ—¶é—´æå–

**æ‰‹æœºç«¯ï¼š**
- [ ] æ‚£è€…åˆ—è¡¨ï¼ˆæ ¹æ®è§’è‰²å’Œæƒé™è¿‡æ»¤ï¼‰
- [ ] å¿«é€Ÿè®°å½•é¡µé¢ï¼ˆæç®€åŒ–æµç¨‹ï¼‰
- [ ] æœç´¢åŠŸèƒ½ï¼ˆç—…å†å·å3ä½ã€æ‹¼éŸ³é¦–å­—æ¯ï¼‰
- [ ] æœ€è¿‘æ²»ç–—æ‚£è€…å¿«æ·æ–¹å¼
- [ ] æ²»ç–—è®¡æ—¶åŠŸèƒ½ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰
- [ ] æ‹ç…§æ‰“å¡åŠŸèƒ½ï¼ˆæ—¶é—´æ°´å°ï¼‰
- [ ] ç…§ç‰‡è‡ªåŠ¨å‘½åï¼ˆç—…æ¡ˆå·_åºå·.jpgï¼‰
- [ ] å†å²è®°å½•æŸ¥è¯¢

**Webåå°ï¼š**
- [ ] è®°å½•åˆ—è¡¨ä¸æŸ¥è¯¢
- [ ] è®°å½•è¯¦æƒ…æŸ¥çœ‹
- [ ] è®°å½•ç¼–è¾‘ï¼ˆæ‰€æœ‰å­—æ®µï¼‰
- [ ] ç…§ç‰‡æŸ¥çœ‹ï¼ˆç¼©ç•¥å›¾+åŸå›¾ï¼‰

#### 2.4 åº·å¤è¯„ä¼°æ¨¡å—
**åç«¯ï¼š**
- [ ] è¯„ä¼°CRUDæ¥å£
- [ ] å…¥é™¢/å‡ºé™¢è¯„ä¼°åŒºåˆ†
- [ ] è¯„ä¼°æ•°æ®å­˜å‚¨

**Webåå°ï¼š**
- [ ] å…¥é™¢è¯„ä¼°è¡¨å•
- [ ] å‡ºé™¢è¯„ä¼°è¡¨å•
- [ ] è¯„ä¼°å†å²æŸ¥çœ‹
- [ ] è¯„ä¼°æ•°æ®å¯¹æ¯”

---

### ç¬¬ä¸‰é˜¶æ®µï¼šæ‰“å°ä¸ç»Ÿè®¡ï¼ˆ2-3å‘¨ï¼‰

#### 3.1 æ‰“å°æ¨¡å—
**åç«¯ï¼š**
- [ ] æ‰“å°æ•°æ®èšåˆæ¥å£
- [ ] HTMLæ¨¡æ¿å¼•æ“é›†æˆ
- [ ] æ–‡ä»¶ç”ŸæˆæœåŠ¡

**Webåå°ï¼š**
- [ ] æ‰“å°å‚æ•°é€‰æ‹©é¡µé¢
- [ ] é¢„è§ˆé¡µé¢
- [ ] å¯¼å‡ºHTMLåŠŸèƒ½
- [ ] æ‰“å°æ ·å¼ä¼˜åŒ–

**æ‰“å°æ¨¡æ¿ï¼š**
- [ ] åº·å¤æ²»ç–—å…¨ç¨‹è®°å½•å•
- [ ] æ²»ç–—å¸ˆå·¥ä½œé‡æŠ¥è¡¨
- [ ] A4æ‰“å°æ ·å¼ä¼˜åŒ–
- [ ] æµè§ˆå™¨æ‰“å°å…¼å®¹æµ‹è¯•

#### 3.2 ç»Ÿè®¡æŠ¥è¡¨
**åç«¯ï¼š**
- [ ] ç»Ÿè®¡æ•°æ®èšåˆæ¥å£
- [ ] å¤šç»´åº¦ç»Ÿè®¡è®¡ç®—
- [ ] æ•°æ®ç¼“å­˜ä¼˜åŒ–

**Webåå°ï¼š**
- [ ] ç»Ÿè®¡ä»ªè¡¨ç›˜
- [ ] æŒ‰æ—¶é—´ç»Ÿè®¡ï¼ˆæ—¥/å‘¨/æœˆï¼‰
- [ ] æŒ‰æ²»ç–—å¸ˆç»Ÿè®¡
- [ ] æŒ‰é¡¹ç›®ç»Ÿè®¡
- [ ] å›¾è¡¨å¯è§†åŒ–ï¼ˆEChartsï¼‰

---

### ç¬¬å››é˜¶æ®µï¼šæµ‹è¯•ä¸ä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰

#### 4.1 åŠŸèƒ½æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•ç¼–å†™
- [ ] æ¥å£æµ‹è¯•
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] Bugä¿®å¤

#### 4.2 æ€§èƒ½ä¼˜åŒ–
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] æ¥å£å“åº”æ—¶é—´ä¼˜åŒ–
- [ ] å‰ç«¯åŠ è½½ä¼˜åŒ–
- [ ] å¹¶å‘æµ‹è¯•

#### 4.3 å®‰å…¨åŠ å›º
- [ ] è¾“å…¥éªŒè¯
- [ ] SQLæ³¨å…¥é˜²æŠ¤
- [ ] XSSé˜²æŠ¤
- [ ] æ•æ„Ÿæ•°æ®åŠ å¯†
- [ ] æ“ä½œæ—¥å¿—è®°å½•

---

### ç¬¬äº”é˜¶æ®µï¼šéƒ¨ç½²ä¸åŸ¹è®­ï¼ˆ1å‘¨ï¼‰

#### 5.1 éƒ¨ç½²ä¸Šçº¿
- [ ] å‡†å¤‡å†…ç½‘æœåŠ¡å™¨ç¯å¢ƒ
- [ ] åç«¯éƒ¨ç½²
- [ ] å‰ç«¯éƒ¨ç½²
- [ ] æ•°æ®å¤‡ä»½æ–¹æ¡ˆ

#### 5.2 ç”¨æˆ·åŸ¹è®­
- [ ] ç¼–å†™ç”¨æˆ·æ“ä½œæ‰‹å†Œ
- [ ] åˆ¶ä½œåŸ¹è®­è§†é¢‘
- [ ] ç°åœºåŸ¹è®­åŒ»æŠ¤äººå‘˜
- [ ] æ”¶é›†åé¦ˆä¸æ”¹è¿›

---

## éªŒè¯ä¸æµ‹è¯•è®¡åˆ’

### åŠŸèƒ½éªŒè¯æ¸…å•

#### æ‰‹æœºç«¯éªŒè¯
- [ ] ä¸åŒè§’è‰²ç™»å½•åçœ‹åˆ°å¯¹åº”çš„æ²»ç–—é¡¹ç›®
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸ï¼ˆç—…å†å·å3ä½ã€æ‹¼éŸ³é¦–å­—æ¯ï¼‰
- [ ] æ²»ç–—è®°å½•3æ­¥æµç¨‹æ­£å¸¸
- [ ] æ—¶é—´è‡ªåŠ¨è®¡ç®—å‡†ç¡®

#### Webåå°éªŒè¯
- [ ] ä¾§è¾¹æ å¯¼èˆªæ­£å¸¸
- [ ] ä»ªè¡¨ç›˜æ•°æ®å±•ç¤ºæ­£ç¡®
- [ ] æ‰“å°é¢„è§ˆä¸å®é™…æ‰“å°æ•ˆæœä¸€è‡´
- [ ] ç»Ÿè®¡æ•°æ®å‡†ç¡®æ— è¯¯

#### æ‰“å°éªŒè¯
- [ ] Chromeæµè§ˆå™¨æ‰“å°æµ‹è¯•
- [ ] Edgeæµè§ˆå™¨æ‰“å°æµ‹è¯•
- [ ] PDFå¯¼å‡ºæµ‹è¯•
- [ ] æ‰“å°æœºå®é™…è¾“å‡ºæµ‹è¯•

### æ€§èƒ½æŒ‡æ ‡
- æ¥å£å“åº”æ—¶é—´ < 500ms
- æ‰‹æœºç«¯é¡µé¢åŠ è½½ < 2s
- Webåå°é¡µé¢åŠ è½½ < 1s
- æ”¯æŒ10äººåŒæ—¶åœ¨çº¿ä½¿ç”¨

---

## é¡¹ç›®æ—¶é—´ä¼°ç®—

| é˜¶æ®µ | å†…å®¹ | æ—¶é—´ |
|------|------|------|
| ç¬¬ä¸€é˜¶æ®µ | é¡¹ç›®åˆå§‹åŒ–ä¸åŸºç¡€æ¡†æ¶ | 1-2å‘¨ |
| ç¬¬äºŒé˜¶æ®µ | æ ¸å¿ƒåŠŸèƒ½å¼€å‘ | 3-4å‘¨ |
| ç¬¬ä¸‰é˜¶æ®µ | æ‰“å°ä¸ç»Ÿè®¡ | 2-3å‘¨ |
| ç¬¬å››é˜¶æ®µ | æµ‹è¯•ä¸ä¼˜åŒ– | 1-2å‘¨ |
| ç¬¬äº”é˜¶æ®µ | éƒ¨ç½²ä¸åŸ¹è®­ | 1å‘¨ |
| **æ€»è®¡** | **å®Œæ•´å¼€å‘å‘¨æœŸ** | **8-12å‘¨** |

**æ³¨ï¼š** æ—¶é—´ä¼°ç®—åŸºäº1åå…¨èŒå¼€å‘è€…ã€‚å¦‚å¤šäººå¹¶è¡Œå¼€å‘å¯ç¼©çŸ­å‘¨æœŸã€‚

---

## é£é™©ä¸åº”å¯¹

| é£é™© | å½±å“ | åº”å¯¹æªæ–½ |
|------|------|----------|
| éœ€æ±‚å˜æ›´å¯¼è‡´è¿”å·¥ | é«˜ | åˆ†é˜¶æ®µäº¤ä»˜ï¼ŒåŠæ—¶ç¡®è®¤éœ€æ±‚ |
| æ‰“å°æ ·å¼å…¼å®¹æ€§é—®é¢˜ | ä¸­ | æ—©æœŸæµ‹è¯•ï¼Œé¢„ç•™è°ƒè¯•æ—¶é—´ |
| ç”¨æˆ·åŸ¹è®­æ•ˆæœä¸ä½³ | ä½ | åˆ¶ä½œè¯¦ç»†æ‰‹å†Œå’Œè§†é¢‘ï¼Œç°åœºåŸ¹è®­ |

---

## å…³é”®æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ

### 1. æœç´¢åŠŸèƒ½ä¼˜åŒ–
**éš¾ç‚¹ï¼š** éœ€è¦æ”¯æŒå¤šç§æœç´¢æ–¹å¼ï¼ˆç—…å†å·å3ä½ã€æ‹¼éŸ³é¦–å­—æ¯ï¼‰

**è§£å†³æ–¹æ¡ˆï¼š**
- æ‚£è€…è¡¨æ·»åŠ `pinyin`å­—æ®µå­˜å‚¨æ‹¼éŸ³é¦–å­—æ¯
- æœç´¢æ¥å£æ”¯æŒå¤šç§åŒ¹é…é€»è¾‘
- å‰ç«¯è¾“å…¥å®æ—¶æœç´¢åé¦ˆ

### 2. æ—¶é—´è‡ªåŠ¨è®¡ç®—
**éš¾ç‚¹ï¼š** æ²»ç–—ç»“æŸæ—¶é—´éœ€è¦è‡ªåŠ¨è®¡ç®—ä¸”çœŸå®å¯ä¿¡

**è§£å†³æ–¹æ¡ˆï¼š**
- ç»“æŸæ—¶é—´ = å¼€å§‹æ—¶é—´ + é»˜è®¤æ—¶é•¿ + éšæœº60-120ç§’
- æ•°æ®åº“å­˜å‚¨`extraSeconds`å­—æ®µ
- ç¡®ä¿æ—¶é—´è®¡ç®—é€»è¾‘åœ¨æœåŠ¡ç«¯å®Œæˆ

### 3. æ‰“å°æ¨¡æ¿å¯æ§æ€§
**éš¾ç‚¹ï¼š** æ‰“å°æ ·å¼éœ€è¦ç²¾ç¡®æ§åˆ¶

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨ç‹¬ç«‹çš„HTMLæ¨¡æ¿
- CSS @media print ç²¾ç¡®æ§åˆ¶æ‰“å°æ ·å¼
- é¢„è§ˆåŠŸèƒ½ç¡®ä¿æ‰“å°å‰å¯è§
- æ”¯æŒæ‰‹åŠ¨å¾®è°ƒ
